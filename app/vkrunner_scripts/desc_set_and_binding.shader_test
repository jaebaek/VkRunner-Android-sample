#ifndef DESC_SET_AND_BINDING_SHADER_TEST_H
#define DESC_SET_AND_BINDING_SHADER_TEST_H
"app/vkrunner_scripts/desc_set_and_binding.shader_test",
R"(
[require]
fragmentStoresAndAtomics

[vertex shader passthrough]

[fragment shader binary]
7230203 10000 80004 28 0 20011 1 6000b 1 4c534c47 6474732e 3035342e 0 3000e 0 1
6000f 4 4 6e69616d 0 25 30010 4 7 30003 2 1c2 40005 4 6e69616d 0 40005 8
636f6c62 316b 70006 8 0 30746573 6e69625f 676e6964 35 90006 8 1 30746573
6e69625f 676e6964 65725f35 746c7573 0 30005 a 0 40005 d 636f6c62 326b 70006 d 0
31746573 6e69625f 676e6964 33 90006 d 1 31746573 6e69625f 676e6964 65725f33
746c7573 0 30005 f 0 40005 15 636f6c62 336b 70006 15 0 31746573 6e69625f
676e6964 35 90006 15 1 31746573 6e69625f 676e6964 65725f35 746c7573 0 30005 17 0
40005 1b 636f6c62 356b 70006 1b 0 32746573 6e69625f 676e6964 30 90006 1b 1
32746573 6e69625f 676e6964 65725f30 746c7573 0 30005 1d 0 50005 25 6f6c6f63
756f5f72 74 50048 8 0 23 0 50048 8 1 23 10 30047 8 3 40047 a 22 0 40047 a 21 5
50048 d 0 23 0 50048 d 1 23 10 30047 d 3 40047 f 22 1 40047 f 21 3 50048 15 0 23
0 50048 15 1 23 10 30047 15 3 40047 17 22 1 40047 17 21 5 50048 1b 0 23 0 50048
1b 1 23 10 30047 1b 3 40047 1d 22 2 40047 1d 21 0 40047 25 1e 0 20013 2 30021 3
2 30016 6 20 40017 7 6 4 4001e 8 7 7 40020 9 2 8 4003b 9 a 2 40015 b 20 1 4002b
b c 1 4001e d 7 7 40020 e 2 d 4003b e f 2 4002b b 10 0 40020 11 2 7 4001e 15 7 7
40020 16 2 15 4003b 16 17 2 4001e 1b 7 7 40020 1c 2 1b 4003b 1c 1d 2 40020 24 3
7 4003b 24 25 3 50036 2 4 0 3 200f8 5 50041 11 12 f 10 4003d 7 13 12 50041 11 14
a c 3003e 14 13 50041 11 18 17 10 4003d 7 19 18 50041 11 1a f c 3003e 1a 19
50041 11 1e 1d 10 4003d 7 1f 1e 50041 11 20 17 c 3003e 20 1f 50041 11 21 a 10
4003d 7 22 21 50041 11 23 1d c 3003e 23 22 50041 11 26 a 10 4003d 7 27 26 3003e
25 27 100fd 10038

[test]
clear

# Descriptor set and binding test
ssbo 5 subdata vec4 0 0.5 0.5 0.5 0.5
ssbo 1:3 subdata vec4 0 1.3 1.3 1.3 1.3
ssbo 1:5 subdata vec4 0 1.5 1.5 1.5 1.5
ssbo 2:0 subdata vec4 0 2.0 2.0 2.0 2.0

ssbo 5 subdata vec4 16 0.5 0.5 0.5 0.5
ssbo 1:3 subdata vec4 16 1.3 1.3 1.3 1.3
ssbo 1:5 subdata vec4 16 1.5 1.5 1.5 1.5
ssbo 2:0 subdata vec4 16 2.0 2.0 2.0 2.0

draw rect -1 -1 2 2

# Descriptor set and binding test
#
# Note that floating point values might not be exactly same
# and we allow small errors i.e., 0.000001
#
probe ssbo vec4 0:5 16 >  1.299999 1.299999 1.299999 1.299999
probe ssbo vec4 0:5 16 <  1.300001 1.300001 1.300001 1.300001
probe ssbo vec4 1:3 16 >  1.499999 1.499999 1.499999 1.499999
probe ssbo vec4 1:3 16 <  1.500001 1.500001 1.500001 1.500001
probe ssbo vec4 1:5 16 >  1.999999 1.999999 1.999999 1.999999
probe ssbo vec4 1:5 16 <  2.000001 2.000001 2.000001 2.000001
probe ssbo vec4 2:0 16 >  0.499999 0.499999 0.499999 0.499999
probe ssbo vec4 2:0 16 <  0.500001 0.500001 0.500001 0.500001
)",
#endif
